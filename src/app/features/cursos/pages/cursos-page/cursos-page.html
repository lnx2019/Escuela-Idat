<div class="cursos-list-container p-4">
  <header class="d-flex justify-content-between align-items-center mb-4">
    <h2>Listado de Cursos</h2>
    <button (click)="nuevoCurso()" class="btn btn-primary">
      ‚ûï Nuevo Curso
    </button>
  </header>

  @if (cargando) {
    <div class="alert alert-info">Cargando cursos...</div>
  } @else if (error) {
    <div class="alert alert-danger">{{ error }}</div>
  } @else if (cursos.length === 0) {
    <div class="alert alert-warning">No se encontraron cursos registrados.</div>
  }

  @if (cursos.length > 0) {
    <div class="table-responsive">
      <table class="table table-striped table-hover">
        <thead>
          <tr>
            <th>ID</th>
            <th>T√≠tulo</th>
            <th>Instructor ID</th>
            <th>Duraci√≥n (h)</th>
            <th>Estado</th>
            <th class="text-end">Acciones</th>
          </tr>
        </thead>
        <tbody>
          @for (curso of cursos; track curso.id) {
            <tr>
              <td>{{ curso.id }}</td>
              <td>{{ curso.titulo }}</td>
              
              <td>{{ curso.instructor_id }}</td>
              
              <td>{{ curso.duracion_horas }}</td>
              
              <td>
                <span class="badge" 
                      [ngClass]="{
                        'bg-success': curso.estado === 'activo', 
                        'bg-warning': curso.estado === 'inactivo',
                        'bg-secondary': curso.estado === 'archivado'
                      }">
                  {{ curso.estado | uppercase }}
                </span>
              </td>
              
              <td class="text-end">
                <button (click)="editarCurso(curso)" class="btn btn-sm btn-info me-2">
                  ‚úèÔ∏è Editar
                </button>
                <button (click)="eliminarCurso(curso.id, curso.titulo)" class="btn btn-sm btn-danger">
                  üóëÔ∏è Eliminar
                </button>
              </td>
            </tr>
          }
        </tbody>
      </table>
    </div>

    <nav aria-label="Navegaci√≥n de p√°ginas">
      <ul class="pagination justify-content-center">
        <li class="page-item" [class.disabled]="currentPage === 1">
          <a class="page-link" (click)="goToPage(currentPage - 1)">Anterior</a>
        </li>

        @for (pageNumber of [].constructor(totalPages); track $index) {
          <li class="page-item" [class.active]="currentPage === $index + 1">
            <a class="page-link" (click)="goToPage($index + 1)">{{ $index + 1 }}</a>
          </li>
        }

        <li class="page-item" [class.disabled]="currentPage === totalPages">
          <a class="page-link" (click)="goToPage(currentPage + 1)">Siguiente</a>
        </li>
      </ul>
      <p class="text-center mt-2">P√°gina {{ currentPage }} de {{ totalPages }}</p>
    </nav>
  }
</div>